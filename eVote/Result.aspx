<%@ Page Title="" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true" CodeBehind="Result.aspx.cs" Inherits="eVote.Result" %>
<%@ Register assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" namespace="System.Web.UI.DataVisualization.Charting" tagprefix="asp" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
    <table style="width:100%;">
        <tr>
            <td>
                Election Result</td>
            <td>
                <asp:Button ID="Button1" runat="server" Text="Generate Result" 
                    onclick="Button1_Click" />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div align="center">
                    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
                        DataKeyNames="c_ID" DataSourceID="SqlDataSource1" AllowPaging="True">
                        <Columns>
                            <asp:BoundField DataField="c_Vote" HeaderText="Votes" SortExpression="c_Vote" />
                            <asp:BoundField DataField="c_ID" HeaderText="ID" ReadOnly="True" 
                                SortExpression="c_ID" />
                            <asp:BoundField DataField="c_Name" HeaderText="Name" SortExpression="c_Name" />
                            <asp:TemplateField HeaderText="Photo" SortExpression="c_Photo">
                                <EditItemTemplate>
                                    <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("c_Photo") %>'></asp:TextBox>
                                </EditItemTemplate>
                                <ItemTemplate>
                                    <asp:Image ID="Image1" runat="server" AlternateText="No Image" Height="64px" 
                                        ImageUrl='<%# Bind("c_Photo") %>' Width="48px" />
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:TemplateField HeaderText="Logo" SortExpression="c_PLogo">
                                <EditItemTemplate>
                                    <asp:TextBox ID="TextBox2" runat="server" Text='<%# Bind("c_PLogo") %>'></asp:TextBox>
                                </EditItemTemplate>
                                <ItemTemplate>
                                    <asp:Image ID="Image2" runat="server" AlternateText="No Logo" Height="64px" 
                                        ImageUrl='<%# Bind("c_PLogo") %>' Width="48px" />
                                </ItemTemplate>
                            </asp:TemplateField>
                        </Columns>
                    </asp:GridView>
                    <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
                        ConnectionString="<%$ ConnectionStrings:ConnectionString %>" 
                        SelectCommand="SELECT [c_Vote], [c_ID], [c_Name], [c_Photo], [c_PLogo] FROM [Candidate]">
                    </asp:SqlDataSource>
                </div>&nbsp;</td>
        </tr>
        <tr>
            <td colspan="2">
                <em>*this result is generated by the system based on vote&#39;s</em></td>
        </tr>
    </table>
</asp:Content>
